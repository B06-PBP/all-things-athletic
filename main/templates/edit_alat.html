{% extends 'base.html' %}
{% load static %}

{% block content %}
{% include 'navbar.html' %}
<div class="container mx-auto mt-8 max-w-lg">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Edit Alat Olahraga</h2>

    <form method="post" class="bg-white shadow-lg rounded-lg px-8 py-10 mb-12">
        {% csrf_token %}
        
        <div class="space-y-6">
            <div class="mb-4">
                <label for="cabang_olahraga" class="block text-gray-700 text-sm font-semibold mb-2">Cabang Olahraga:</label>
                <input type="text" id="cabang_olahraga" name="cabang_olahraga" value="{{ form.cabang_olahraga.value }}" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="alat_olahraga" class="block text-gray-700 text-sm font-semibold mb-2">Alat Olahraga:</label>
                <input type="text" id="alat_olahraga" name="alat_olahraga" value="{{ form.alat_olahraga.value }}" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="deskripsi" class="block text-gray-700 text-sm font-semibold mb-2">Deskripsi:</label>
                <textarea id="deskripsi" name="deskripsi" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500">{{ form.deskripsi.value }}</textarea>
            </div>

            <div class="mb-4">
                <label for="harga" class="block text-gray-700 text-sm font-semibold mb-2">Harga (Rp):</label>
                <input type="text" id="harga" name="harga" value="{{ form.harga.value }}" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., Rp 367.000">
            </div>

            <div class="mb-4">
                <label for="toko" class="block text-gray-700 text-sm font-semibold mb-2">Toko:</label>
                <input type="text" id="toko" name="toko" value="{{ form.toko.value }}" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="rating" class="block text-gray-700 text-sm font-semibold mb-2">Rating:</label>
                <input type="number" id="rating" name="rating" value="{{ form.rating.value|default_if_none:"0" }}" min="1" max="5" step="0.1" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500">
            </div>

            <div class="mb-4">
                <label for="gambar" class="block text-gray-700 text-sm font-semibold mb-2">Gambar URL:</label>
                <input type="url" id="gambar" name="gambar" value="{{ form.gambar.value }}" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-blue-500 focus:border-blue-500" placeholder="https://example.com/image.jpg">
            </div>
        </div>
        
        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Save Changes
        </button>
    </form>
</div>

<script>
    // Format input in "harga" field to "Rp 123.456" format
    document.getElementById('harga').addEventListener('input', function(e) {
        let value = e.target.value.replace(/[^,\d]/g, '');
        if (value) {
            e.target.value = 'Rp ' + parseInt(value, 10).toLocaleString('id-ID');
        } else {
            e.target.value = '';
        }
    });
</script>
{% endblock content %}
    